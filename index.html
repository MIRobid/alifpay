<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="English translation of Alifpay API Documentation for card processing, payments, and financial tools.">
    <meta property="og:title" content="Alifpay API Documentation (English)">
    <meta property="og:description" content="Cloned and translated guide for integrating Alifpay's financial APIs.">
    <meta property="og:url" content="https://mirobid.github.io/alifpay/">
    <title>Alifpay API Documentation (English)</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; margin: 0; padding: 20px; background: #f8f9fa; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1, h2, h3 { color: #1a1a1a; border-bottom: 2px solid #e9ecef; padding-bottom: 5px; }
        code { background: #f4f4f4; padding: 2px 4px; border-radius: 4px; font-family: 'Courier New', monospace; }
        pre { background: #f4f4f4; padding: 15px; border-radius: 4px; overflow-x: auto; border-left: 4px solid #007bff; }
        table { border-collapse: collapse; width: 100%; margin: 10px 0; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background-color: #f2f2f2; font-weight: bold; }
        ul { padding-left: 20px; }
        .toc { background: #e9ecef; padding: 15px; border-radius: 4px; margin-bottom: 20px; }
        .toc h3 { margin-top: 0; }
        .toc ul { list-style-type: none; padding: 0; }
        .toc li { margin: 5px 0; }
        .toc a { text-decoration: none; color: #007bff; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
        hr { border: none; border-top: 1px solid #ddd; margin: 30px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Alifpay API Documentation (English Translation)</h1>
        <p>This is a cloned and translated version of the content from <a href="https://docs.alifpay.uz/">https://docs.alifpay.uz/</a>. The original site appears to be a single-page or JavaScript-rendered documentation site in Russian, with references to additional method pages (e.g., /checkout, /hold, /cards, /payments). Due to technical limitations in fetching dynamic content, only the core introductory and foundational sections were extractable. These have been fully translated to English while preserving the original structure, headings, code blocks, and tables. External links and relative paths are retained as-is for reference.</p>

        <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#interaction">Interaction</a></li>
                <li><a href="#authorization">Authorization</a></li>
                <li><a href="#requests-and-responses">Requests and Responses</a></li>
                <li><a href="#errors">Errors</a></li>
                <li><a href="#sandbox">Sandbox</a></li>
                <li><a href="#webhooks">Webhooks</a></li>
            </ul>
        </div>

        <h2 id="introduction">Introduction</h2>
        <p>Alifpay provides digital products with financial API tools for working with cards and accepting online payments. Examples of tools include acquiring, transaction counting and viewing card usage history, fund holding, card tokenization, and p2p transfers between cards.</p>

        <h3 id="interaction">Interaction</h3>
        <p>To start using the API, you need to <a href="https://alifpay.uz/">obtain</a> an authorization token for the sandbox and production environment, study the main elements, functionality, and <a href="/checkout">API methods</a>.</p>
        <p>For simplifying integration during development, it is recommended to use the API sandbox, where test cards are available for processing various scenarios (for example, when the card is blocked or there are insufficient funds on it). During sandbox operation, real funds on cards are not used.</p>
        <p><a href="https://alifpay.uz/">Get API Token</a></p>
        <h4>API Address</h4>
        <pre><code>https://api.alifpay.uz/v2</code></pre>

        <h3 id="authorization">Authorization</h3>
        <p>Upon connecting to the system, the API client is issued an authorization token, which is used to call private methods. To authorize API requests, the <code>Token</code> HTTP header is used, in which the obtained token must be passed as the value.</p>
        <p>Different tokens are used for requests to the production environment and the sandbox.</p>
        <h4>Example Request</h4>
        <p>Below is an example of a raw request using a token for authorization (see the <code>Token</code> header).</p>
        <h4>Raw Request</h4>
        <pre><code>POST /watchAnime HTTP/1.1
Host: api.alifpay.uz
Token: Yml0Lmx5LzN4WW9XeWc=
...
Content-Type: application/json

{
  "msg": "secured request"
}</code></pre>

        <h3 id="requests-and-responses">Requests and Responses</h3>
        <p>The API is an <a href="https://www.smashingmagazine.com/2016/09/understanding-rest-and-rpc-for-http-apis/">HTTP-based RPC</a> (remote procedure call) and is similar to <a href="https://www.jsonrpc.org/specification">JSON-RPC 2.0</a>. To call a method (procedure), the method name must be passed in the URI. Every HTTP request must use the <code>POST</code> method. Requests are accepted with a body in JSON format. All valid responses have an HTTP response code of <code>200 - OK</code>. In case of an error, a response with a <a href="#errors">standard error body</a> containing a code and message is returned.</p>
        <h4>Request</h4>
        <p>Below is an example of calling the <code>watchAnime</code> procedure.</p>
        <p>POST /watchAnime</p>
        <pre><code>{
  "name": "Naruto",
  "times": 10
}</code></pre>
        <h4>Response</h4>
        <p>Below are examples of successful and <a href="#errors">unsuccessful</a> responses.</p>
        <h5>Successful</h5>
        <pre><code>{
  "msg": "watching"
}</code></pre>
        <h5>Unsuccessful</h5>
        <pre><code>{
  "error": {
    "code": 1002,
    "message": "unauthorized"
  }
}</code></pre>

        <h3 id="errors">Errors</h3>
        <p>Errors may occur when interacting with the API. Errors are valid API responses that should be taken into account during integration for automatic handling. Such errors include, for example, validation errors, business errors, and internal service errors.</p>
        <p>In such cases, the API responses still indicate the status code <code>200 - OK</code>.</p>
        <h4><code>error</code> Structure</h4>
        <ul>
            <li><strong>Name</strong><br><code>code</code><br><strong>Type</strong><br>integer<br><strong>Description</strong><br>Error code, which can be used for automatic handling.</li>
            <li><strong>Name</strong><br><code>message</code><br><strong>Type</strong><br>string<br><strong>Description</strong><br>Message, a human-readable explanation of the error in a specific case.</li>
        </ul>
        <h4>Error Codes</h4>
        <table>
            <thead>
                <tr><th>Code</th><th>Description</th><th>Explanation and Examples</th><th>Retry Possible?</th></tr>
            </thead>
            <tbody>
                <tr><td><code>1001</code></td><td>Invalid request body</td><td>Invalid JSON, invalid attribute type</td><td>No</td></tr>
                <tr><td><code>1002</code></td><td>Unauthorized request</td><td>Invalid merchant token in header</td><td>No</td></tr>
                <tr><td><code>1003</code></td><td>Internal/unknown error</td><td>-</td><td>Yes</td></tr>
                <tr><td><code>1004</code></td><td>Not found</td><td>Card, payment, etc., not found</td><td>Yes</td></tr>
                <tr><td><code>1005</code></td><td>Invalid parameters</td><td>Invalid amount, empty parameter</td><td>No</td></tr>
                <tr><td><code>1007</code></td><td>Denied</td><td>Operation execution denied</td><td>No</td></tr>
                <tr><td><code>1100</code></td><td>Invalid OTP</td><td>-</td><td>No</td></tr>
                <tr><td><code>1101</code></td><td>OTP expired</td><td>-</td><td>No</td></tr>
                <tr><td><code>1102</code></td><td>Invalid card data</td><td>Invalid card number, non-existent card, or card number does not match expiration date</td><td>No</td></tr>
                <tr><td><code>1103</code></td><td>Card expired</td><td>-</td><td>No</td></tr>
                <tr><td><code>1104</code></td><td>SMS notifications not enabled for card</td><td>Enabled by the cardholder at the bank (or ATM), required for sending confirmation codes and transaction notifications</td><td>Yes</td></tr>
                <tr><td><code>1105</code></td><td>Duplication</td><td>-</td><td>No</td></tr>
                <tr><td><code>1106</code></td><td>OTP entry attempts exhausted</td><td>-</td><td>No</td></tr>
                <tr><td><code>1107</code></td><td>Card blocked</td><td>May be blocked by the user, by the bank, or automatically as a result of certain operations</td><td>Yes</td></tr>
                <tr><td><code>1108</code></td><td>Insufficient funds on card</td><td>For example, during <a href="/hold">holding</a> or other operations where operation status is not accessible</td><td>Yes, with different ID</td></tr>
                <tr><td><code>1109</code></td><td>Limit exceeded</td><td>Limit exceeded for sending invoice via SMS to phone number</td><td>Yes</td></tr>
                <tr><td><code>1110</code></td><td>Phone number does not match SMS notification phone</td><td>Phone number specified during <a href="/cards#poluchenie-tokena">tokenization</a> does not match the phone number for which SMS notifications are enabled on the card</td><td>Yes</td></tr>
            </tbody>
        </table>
        <h4>Error Response</h4>
        <pre><code>{
  "error": {
    "code": 1001,
    "message": "bad request (invalid 'amount' parameter type)"
  }
}</code></pre>

        <h3 id="sandbox">Sandbox</h3>
        <p>The sandbox is an isolated replica of the API that is not connected to processing centers and does not work with real cards. During sandbox use, real monetary funds are not used. It is recommended to use the sandbox during API integration.</p>
        <h4>Cards</h4>
        <p>To test different scenarios during tokenization and fund withdrawal, you can use the test cards listed below, which are available only in the sandbox.</p>
        <table>
            <thead><tr><th>Card Number</th><th>Description</th></tr></thead>
            <tbody>
                <tr><td><code>1234111111111111</code></td><td>Valid card</td></tr>
                <tr><td><code>1234666666666666</code></td><td>Insufficient funds</td></tr>
                <tr><td><code>1234777777777777</code></td><td>SMS notifications not enabled</td></tr>
                <tr><td><code>1234999999999999</code></td><td>Blocked card</td></tr>
            </tbody>
        </table>
        <p>Use any current date in <code>MMYY</code> format as the expiration date for the test card, e.g., 0626. To confirm "payment" with a test card, use the code <code>111111</code>.</p>
        <p>One-time debit or fund holding from a sandbox card is possible up to 5000000000 tiyin. Otherwise, the API will return the corresponding status or error, or other behavior for insufficient card funds depending on the method used.</p>
        <h4>PINFL</h4>
        <p>For testing scenarios involving PINFL, you can use the PINFL from the list below. Available only in the sandbox.</p>
        <table>
            <thead><tr><th>PINFL</th><th>Description</th></tr></thead>
            <tbody><tr><td><code>11111111111111</code></td><td>Valid PINFL</td></tr></tbody>
        </table>

        <h3 id="webhooks">Webhooks</h3>
        <p>A webhook is a notification request about a successful operation (most often a payment) sent to the URL provided by the API client in the initiating request.</p>
        <h4>Payment Webhook</h4>
        <p>When using the API to create an <a href="/checkout">invoice</a> or <a href="/payments">payment</a>, a POST request with payment information is sent to the address passed by the API client (usually the <code>webhook_url</code> field, e.g., when creating an invoice) upon completion of the operation.</p>
        <h4>Request Verification</h4>
        <p>To ensure the request is indeed from Alifpay, a signature is used. The <code>Signature</code> HTTP header is used to transmit the signature. The signature is an HMACSHA256 hash, with the issued secret key as the key and the request body as the message.</p>
        <p>To verify, generate the hash and compare it to the value from the <code>Signature</code> HTTP header of the incoming webhook request.</p>
        <h4>Generating Signature</h4>
        <pre><code>import hmac
import hashlib
import base64

SECRET_KEY = b'secretkey'

def sign(body):
  return base64.b64encode(hmac.new(SECRET_KEY, body, hashlib.sha256).digest())</code></pre>
        <h4>Verifying Signature</h4>
        <pre><code>alifpay_signature = req.headers["Signature"]
webhook_body = req.body

if sign(body) == alifpay_signature:
  # success
else:
  # failed</code></pre>

        <hr />
        <p><strong>Notes on Clone and Translation:</strong></p>
        <ul>
            <li><strong>Cloning Approach</strong>: Content replicated in static HTML for portability. Relative links preserved.</li>
            <li><strong>Translation</strong>: Faithful to original Russian, with technical terms intact. "Tiyin" retained as Uzbek currency subunit.</li>
            <li><strong>Missing Sections</strong>: Subpages appear dynamic; contact Alifpay for full method details if needed.</li>
            <li><strong>Original Source</strong>: <a href="https://docs.alifpay.uz/">https://docs.alifpay.uz/</a></li>
        </ul>
        <p>Hosted on GitHub Pages | Last Updated: November 2025</p>
    </div>
</body>
</html>